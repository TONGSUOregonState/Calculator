<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DSP R(z) åˆ†æå·¥å…·å®Œæ•´æŠ€æœ¯è§£æ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', 'Microsoft YaHei', Tahoma, sans-serif;
      line-height: 1.8;
      color: #333;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }

    h1 {
      color: #2c3e50;
      text-align: center;
      font-size: 2.5em;
      margin-bottom: 10px;
      padding-bottom: 20px;
      border-bottom: 3px solid #3498db;
    }

    .subtitle {
      text-align: center;
      color: #7f8c8d;
      font-size: 1.1em;
      margin-bottom: 40px;
    }

    h2 {
      color: #2980b9;
      font-size: 1.8em;
      margin-top: 40px;
      margin-bottom: 20px;
      padding-left: 15px;
      border-left: 5px solid #3498db;
    }

    h3 {
      color: #34495e;
      font-size: 1.4em;
      margin-top: 30px;
      margin-bottom: 15px;
    }

    p {
      margin-bottom: 15px;
      text-align: justify;
    }

    .section {
      margin-bottom: 50px;
    }

    .code-block {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 20px 0;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
      position: relative;
    }

    .code-label {
      position: absolute;
      top: 5px;
      right: 10px;
      background: #3498db;
      color: white;
      padding: 3px 10px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: bold;
    }

    .highlight {
      background: #fff3cd;
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 600;
    }

    .info-box {
      background: #e8f4f8;
      border-left: 4px solid #3498db;
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .success-box {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .diagram {
      background: #f8f9fa;
      border: 2px solid #dee2e6;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      white-space: pre;
      overflow-x: auto;
    }

    ul, ol {
      margin-left: 30px;
      margin-bottom: 20px;
    }

    li {
      margin-bottom: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    table th {
      background: #3498db;
      color: white;
      padding: 12px;
      text-align: left;
      font-weight: 600;
    }

    table td {
      padding: 10px 12px;
      border-bottom: 1px solid #dee2e6;
    }

    table tr:nth-child(even) {
      background: #f8f9fa;
    }

    .toc {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 40px;
    }

    .toc h3 {
      margin-top: 0;
      color: #2c3e50;
    }

    .toc ul {
      list-style: none;
      margin-left: 0;
    }

    .toc li {
      margin-bottom: 8px;
    }

    .toc a {
      color: #3498db;
      text-decoration: none;
      transition: color 0.3s;
    }

    .toc a:hover {
      color: #2980b9;
      text-decoration: underline;
    }

    .emoji {
      font-size: 1.2em;
    }

    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #e74c3c;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ›ï¸ DSP R(z) åˆ†æå·¥å…·å®Œæ•´æŠ€æœ¯è§£æ</h1>
    <p class="subtitle">æ·±å…¥ç†è§£æµè§ˆå™¨ä¸­çš„ Python + WebAssembly æŠ€æœ¯æ ˆ</p>

    <div class="toc">
      <h3>ğŸ“‹ ç›®å½•</h3>
      <ul>
        <li><a href="#overview">ä¸€ã€é¡¹ç›®æ¦‚è¿°</a></li>
        <li><a href="#architecture">äºŒã€Pyodide æ¶æ„åŸç†</a></li>
        <li><a href="#code-structure">ä¸‰ã€ä»£ç ç»“æ„è¯¦è§£</a></li>
        <li><a href="#python-embedding">å››ã€Python ä»£ç åµŒå…¥æœºåˆ¶</a></li>
        <li><a href="#data-conversion">äº”ã€JS ä¸ Python æ•°æ®è½¬æ¢</a></li>
        <li><a href="#string-template">å…­ã€å­—ç¬¦ä¸²æ¨¡æ¿åµŒå…¥è¯¦è§£</a></li>
        <li><a href="#workflow">ä¸ƒã€å®Œæ•´å·¥ä½œæµç¨‹</a></li>
        <li><a href="#advantages">å…«ã€WebAssembly çš„ä¼˜åŠ¿</a></li>
      </ul>
    </div>

    <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šé¡¹ç›®æ¦‚è¿° -->
    <div class="section" id="overview">
      <h2>ğŸ“‹ ä¸€ã€é¡¹ç›®æ¦‚è¿°</h2>

      <p>è¿™æ˜¯ä¸€ä¸ªå®Œå…¨åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ DSPï¼ˆæ•°å­—ä¿¡å·å¤„ç†ï¼‰é›¶æç‚¹åˆ†æå·¥å…·ã€‚å®ƒåˆ©ç”¨ <span class="highlight">WebAssembly</span> æŠ€æœ¯ï¼Œåœ¨å‰ç«¯æ‰§è¡Œ Python ç§‘å­¦è®¡ç®—ï¼Œæ— éœ€ä»»ä½•æœåŠ¡å™¨æ”¯æŒã€‚</p>

      <h3>æ ¸å¿ƒåŠŸèƒ½</h3>
      <ul>
        <li><strong>é›¶æç‚¹è®¡ç®—</strong>ï¼šåˆ†æ z åŸŸæœ‰ç†å‡½æ•° R(z) = N(z)/D(z)</li>
        <li><strong>å› å¼åˆ†è§£</strong>ï¼šå°† R(z) è½¬æ¢ä¸ºå› å­ç›¸ä¹˜å½¢å¼</li>
        <li><strong>å¯è§†åŒ–ç»˜å›¾</strong>ï¼šåœ¨å¤å¹³é¢ä¸Šç»˜åˆ¶é›¶æç‚¹å›¾</li>
        <li><strong>å…¬å¼æ¸²æŸ“</strong>ï¼šä½¿ç”¨ MathJax æ˜¾ç¤ºæ•°å­¦è¡¨è¾¾å¼</li>
      </ul>

      <div class="info-box">
        <strong>ğŸ”‘ å…³é”®æŠ€æœ¯ï¼š</strong>
        <ul style="margin-bottom: 0;">
          <li>Pyodideï¼šWebAssembly ç‰ˆæœ¬çš„ CPython</li>
          <li>SymPyï¼šç¬¦å·æ•°å­¦è®¡ç®—åº“</li>
          <li>Matplotlibï¼šç§‘å­¦ç»˜å›¾åº“</li>
          <li>MathJaxï¼šLaTeX å…¬å¼æ¸²æŸ“å¼•æ“</li>
        </ul>
      </div>
    </div>

    <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šPyodide æ¶æ„ -->
    <div class="section" id="architecture">
      <h2>ğŸ” äºŒã€Pyodide æ¶æ„åŸç†</h2>

      <p>Pyodide å°†å®Œæ•´çš„ CPython è§£é‡Šå™¨ç¼–è¯‘æˆ WebAssemblyï¼Œä½¿å…¶èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p>

      <div class="diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           æµè§ˆå™¨ (Browser)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      JavaScript æ‰§è¡Œç¯å¢ƒ                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   Pyodide.js (æ¡¥æ¥å±‚)               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   - runPythonAsync()                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   - loadPackage()                   â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚             â”‚                              â”‚  â”‚
â”‚  â”‚             â–¼                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   WebAssembly è™šæ‹Ÿæœº                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   CPython 3.11 (ç¼–è¯‘æˆ.wasm)        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   - Pythonè§£é‡Šå™¨                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   - æ ‡å‡†åº“                          â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   - NumPy, SymPyç­‰ç§‘å­¦åº“            â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

      <h3>å·¥ä½œæµç¨‹</h3>
      <ol>
        <li><strong>åŠ è½½é˜¶æ®µ</strong>ï¼šä¸‹è½½ pyodide.wasm æ–‡ä»¶ï¼ˆçº¦ 10MBï¼‰</li>
        <li><strong>åˆå§‹åŒ–</strong>ï¼šå¯åŠ¨ CPython è§£é‡Šå™¨</li>
        <li><strong>åŒ…ç®¡ç†</strong>ï¼šåŠ è½½æ‰€éœ€çš„ Python åŒ…ï¼ˆSymPy, Matplotlib ç­‰ï¼‰</li>
        <li><strong>æ‰§è¡Œ</strong>ï¼šè¿è¡Œ Python ä»£ç å¹¶è¿”å›ç»“æœ</li>
      </ol>
    </div>

    <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»£ç ç»“æ„ -->
    <div class="section" id="code-structure">
      <h2>ğŸ“ ä¸‰ã€ä»£ç ç»“æ„è¯¦è§£</h2>

      <h3>1. HTML å¤´éƒ¨é…ç½®</h3>

      <div class="code-block">
        <div class="code-label">HTML</div>&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;DSP R(z) é›¶ç‚¹æç‚¹åˆ†æ&lt;/title&gt;</div>

      <p><strong>ä½œç”¨ï¼š</strong>å®šä¹‰ HTML5 æ–‡æ¡£ï¼Œè®¾ç½®ä¸­æ–‡è¯­è¨€ï¼ŒUTF-8 ç¼–ç ï¼Œå“åº”å¼è§†å£ã€‚</p>

      <h3>2. MathJax é…ç½®</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>&lt;script&gt;
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']]
  },
  svg: {
    fontCache: 'global'
  }
};
&lt;/script&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"&gt;&lt;/script&gt;</div>

      <div class="info-box">
        <strong>ğŸ“ MathJax åŠŸèƒ½ï¼š</strong>
        <ul style="margin-bottom: 0;">
          <li><code>inlineMath</code>ï¼šè¡Œå†…å…¬å¼ç”¨ $...$ åŒ…è£¹</li>
          <li><code>displayMath</code>ï¼šç‹¬ç«‹å…¬å¼ç”¨ $$...$$ åŒ…è£¹</li>
          <li><code>svg</code>ï¼šä½¿ç”¨ SVG æ¸²æŸ“ï¼Œæ•ˆæœæ›´æ¸…æ™°</li>
        </ul>
      </div>

      <h3>3. Pyodide å¼•å…¥</h3>

      <div class="code-block">
        <div class="code-label">HTML</div>&lt;script src="https://cdn.jsdelivr.net/pyodide/v0.26.1/full/pyodide.js"&gt;&lt;/script&gt;</div>

      <p><strong>ä½œç”¨ï¼š</strong>å¼•å…¥ Pyodide åº“ï¼Œå…è®¸åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ Pythonã€‚</p>

      <h3>4. Pyodide åˆå§‹åŒ–</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>let pyodide;

async function initPyodide() {
  // åŠ è½½ Pyodide å¼•æ“
  pyodide = await loadPyodide({
    indexURL: "https://cdn.jsdelivr.net/pyodide/v0.26.1/full/"
  });

  // åŠ è½½ Python åŒ…
  await pyodide.loadPackage(['sympy', 'matplotlib', 'numpy']);

  // å¯¼å…¥æ¨¡å—
  await pyodide.runPythonAsync(`
import sympy as sp
from sympy import symbols, factor, roots, latex
from sympy.abc import z
import matplotlib.pyplot as plt
import numpy as np
import io
import base64
  `);
}</div>

      <div class="success-box">
        <strong>âœ… åˆå§‹åŒ–æ­¥éª¤ï¼š</strong>
        <ol style="margin-bottom: 0;">
          <li>ä¸‹è½½å¹¶åŠ è½½ Pyodide WebAssembly æ–‡ä»¶</li>
          <li>å®‰è£…æ‰€éœ€çš„ Python åŒ…ï¼ˆçº¦ 8MBï¼‰</li>
          <li>é¢„å…ˆå¯¼å…¥å¸¸ç”¨æ¨¡å—</li>
          <li>æ˜¾ç¤ºä¸»ç•Œé¢</li>
        </ol>
      </div>
    </div>

    <!-- ç¬¬å››éƒ¨åˆ†ï¼šPython åµŒå…¥æœºåˆ¶ -->
    <div class="section" id="python-embedding">
      <h2>ğŸ”— å››ã€Python ä»£ç åµŒå…¥æœºåˆ¶</h2>

      <h3>æ–¹å¼ 1ï¼šå­—ç¬¦ä¸²æ¨¡æ¿åµŒå…¥ï¼ˆæœ¬é¡¹ç›®ä½¿ç”¨ï¼‰</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>async function runAnalysis() {
  // ä» HTML è¯»å–ç”¨æˆ·è¾“å…¥
  const numStr = document.getElementById('numerator').value;
  const denStr = document.getElementById('denominator').value;

  // ğŸ”¥ ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ„é€  Python ä»£ç 
  const analysisCode = `
import sympy as sp
from sympy.abc import z

# ${numStr} ä¼šè¢«æ›¿æ¢æˆç”¨æˆ·è¾“å…¥çš„å€¼
num_coeffs = ${numStr}
den_coeffs = ${denStr}

# æ„å»ºå¤šé¡¹å¼
numerator = sum(c * z**(len(num_coeffs)-1-i) for i, c in enumerate(num_coeffs))
zeros = sp.roots(numerator, z)
zeros
  `;

  // æ‰§è¡Œ Python ä»£ç 
  const result = await pyodide.runPythonAsync(analysisCode);
}</div>

      <div class="info-box">
        <strong>ğŸ’¡ æ‰§è¡Œæµç¨‹ï¼š</strong>
        <div class="diagram" style="white-space: normal;">
JavaScript å­—ç¬¦ä¸²<br>
&nbsp;&nbsp;&nbsp;&nbsp;â†“ (ä¼ é€’ç»™ Pyodide)<br>
WebAssembly ä¸­çš„ Python è§£é‡Šå™¨<br>
&nbsp;&nbsp;&nbsp;&nbsp;â†“ (è§£æã€ç¼–è¯‘ã€æ‰§è¡Œ)<br>
Python è¿è¡Œæ—¶<br>
&nbsp;&nbsp;&nbsp;&nbsp;â†“ (è¿”å› Python å¯¹è±¡)<br>
JS Proxy å¯¹è±¡ (å¯ç”¨ .get() è®¿é—®)
        </div>
      </div>

      <h3>æ–¹å¼ 2ï¼šé€šè¿‡ pyodide.globals ä¼ é€’</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>// åœ¨ Python ä¸­è®¾ç½®å˜é‡
pyodide.globals.set('my_list', [1, 2, 3]);

// åœ¨ Python ä¸­ä½¿ç”¨
await pyodide.runPythonAsync(`
print(my_list)  # [1, 2, 3]
result = sum(my_list)
`);

// è¯»å– Python å˜é‡
const result = pyodide.globals.get('result');  // 6</div>

      <h3>æ–¹å¼ 3ï¼šJSON åºåˆ—åŒ–</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>const userObj = { a: 1, b: 2 };

const code = `
import json
data = json.loads('${JSON.stringify(userObj)}')
print(data['a'])  # 1
`;

await pyodide.runPythonAsync(code);</div>
    </div>

    <!-- ç¬¬äº”éƒ¨åˆ†ï¼šæ•°æ®è½¬æ¢ -->
    <div class="section" id="data-conversion">
      <h2>ğŸ”„ äº”ã€JS ä¸ Python æ•°æ®è½¬æ¢</h2>

      <h3>Python â†’ JavaScript</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>const pyResult = await pyodide.runPythonAsync(`
{
    'zeros': {-1: 1, 1: 1},
    'count': 2,
    'name': 'analysis'
}
`);

// pyResult æ˜¯ PyProxy å¯¹è±¡
const zeros = pyResult.get('zeros');   // PyProxy
const count = pyResult.get('count');    // 2 (JS æ•°å­—)
const name = pyResult.get('name');      // "analysis" (JS å­—ç¬¦ä¸²)

// è½¬æ¢ä¸ºçº¯ JS å¯¹è±¡
const jsObj = pyResult.toJs();</div>

      <h3>æ•°æ®ç±»å‹æ˜ å°„è¡¨</h3>

      <table>
        <tr>
          <th>Python ç±»å‹</th>
          <th>JavaScript ç±»å‹</th>
          <th>å¤‡æ³¨</th>
        </tr>
        <tr>
          <td>int</td>
          <td>Number</td>
          <td>ç›´æ¥è½¬æ¢</td>
        </tr>
        <tr>
          <td>float</td>
          <td>Number</td>
          <td>ç›´æ¥è½¬æ¢</td>
        </tr>
        <tr>
          <td>str</td>
          <td>String</td>
          <td>ç›´æ¥è½¬æ¢</td>
        </tr>
        <tr>
          <td>list</td>
          <td>Array</td>
          <td>éœ€è¦ .toJs()</td>
        </tr>
        <tr>
          <td>dict</td>
          <td>Object</td>
          <td>éœ€è¦ .toJs()</td>
        </tr>
        <tr>
          <td>SymPy å¯¹è±¡</td>
          <td>PyProxy</td>
          <td>ä¿æŒåœ¨ Python ä¾§</td>
        </tr>
      </table>

      <h3>å›¾ç‰‡ä¼ è¾“ï¼šMatplotlib â†’ Base64</h3>

      <div class="code-block">
        <div class="code-label">Python</div>import matplotlib.pyplot as plt
import io
import base64

# ç»˜å›¾
fig, ax = plt.subplots()
ax.plot([1, 2, 3], [1, 4, 9])

# ä¿å­˜åˆ°å†…å­˜
buf = io.BytesIO()
fig.savefig(buf, format='png', dpi=100)
buf.seek(0)

# è½¬æ¢ä¸º base64
img_base64 = base64.b64encode(buf.read()).decode('utf-8')
img_base64  # è¿”å›ç»™ JS</div>

      <div class="code-block">
        <div class="code-label">JavaScript</div>// æ¥æ”¶ base64 å›¾ç‰‡
const imgData = await pyodide.runPythonAsync(plotCode);

// åµŒå…¥ HTML
plotDiv.innerHTML = `
  &lt;img src="data:image/png;base64,${imgData}" alt="Plot"&gt;
`;</div>

      <div class="diagram">Matplotlib ç»˜å›¾ â†’ BytesIO å†…å­˜ç¼“å†² â†’ Base64 ç¼–ç 
â†’ è¿”å›ç»™ JS â†’ Data URL â†’ &lt;img&gt; æ ‡ç­¾æ˜¾ç¤º</div>
    </div>

    <!-- ç¬¬å…­éƒ¨åˆ†ï¼šå­—ç¬¦ä¸²æ¨¡æ¿è¯¦è§£ -->
    <div class="section" id="string-template">
      <h2>ğŸ¯ å…­ã€å­—ç¬¦ä¸²æ¨¡æ¿åµŒå…¥è¯¦è§£</h2>

      <h3>ES6 æ¨¡æ¿å­—ç¬¦ä¸²åŸºç¡€</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>const name = "Alice";

// âŒ æ™®é€šå­—ç¬¦ä¸² - ç”¨å•å¼•å·æˆ–åŒå¼•å·
const greeting1 = 'Hello, my name is name';
console.log(greeting1);  // Hello, my name is name

// âœ… æ¨¡æ¿å­—ç¬¦ä¸² - ç”¨åå¼•å· ` `
const greeting2 = `Hello, my name is ${name}`;
console.log(greeting2);  // Hello, my name is Alice</div>

      <h3>åº”ç”¨åˆ° Python ä»£ç ç”Ÿæˆ</h3>

      <div class="code-block">
        <div class="code-label">JavaScript</div>// ç”¨æˆ·è¾“å…¥ï¼š[1, -2, 1]
const userInput = "[1, -2, 1]";

// æ„é€  Python ä»£ç 
const pythonCode = `
coefficients = ${userInput}  # ä¼šè¢«æ›¿æ¢æˆ [1, -2, 1]
result = sum(coefficients)
print(result)
`;

// Python å®é™…çœ‹åˆ°çš„ä»£ç ï¼š
// coefficients = [1, -2, 1]
// result = sum([1, -2, 1])
// print(0)</div>

      <h3>åŠ¨æ€æ›¿æ¢æ¼”ç¤º</h3>

      <div class="diagram">// ========== JavaScript ä¸­ ==========
const num = "[1, -2, 1]";

const code = `
coeffs = ${num}     â† è¿™æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²çš„"æ´"
`;

// ========== æ›¿æ¢è¿‡ç¨‹ ==========
"coeffs = ${num}"
      â†“
"coeffs = [1, -2, 1]"

// ========== Python æ‰§è¡Œ ==========
coeffs = [1, -2, 1]
result = sum(coeffs)  # 0</div>

      <div class="warning-box">
        <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
        <ul style="margin-bottom: 0;">
          <li>å­—ç¬¦ä¸²æ ¼å¼å¿…é¡»æ­£ç¡®ï¼ˆåˆ—è¡¨éœ€è¦æ–¹æ‹¬å·ï¼‰</li>
          <li>æœ¬é¡¹ç›®è¿è¡Œåœ¨æ²™ç®±ç¯å¢ƒï¼Œä¸å­˜åœ¨å®‰å…¨é£é™©</li>
          <li>WebAssembly åªèƒ½è®¿é—®è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</li>
        </ul>
      </div>
    </div>

    <!-- ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå·¥ä½œæµç¨‹ -->
    <div class="section" id="workflow">
      <h2>ğŸ¯ ä¸ƒã€å®Œæ•´å·¥ä½œæµç¨‹</h2>

      <ol>
        <li><strong>é¡µé¢åŠ è½½</strong> â†’ åˆå§‹åŒ– Pyodide å’Œ Python åº“</li>
        <li><strong>ç”¨æˆ·è¾“å…¥</strong> â†’ åˆ†å­/åˆ†æ¯å¤šé¡¹å¼ç³»æ•°</li>
        <li><strong>ç‚¹å‡»åˆ†æ</strong> â†’ Python è®¡ç®—é›¶ç‚¹ã€æç‚¹ã€å› å¼åˆ†è§£</li>
        <li><strong>æ¸²æŸ“å…¬å¼</strong> â†’ MathJax æ˜¾ç¤ºæ•°å­¦è¡¨è¾¾å¼</li>
        <li><strong>ç»˜åˆ¶å›¾å½¢</strong> â†’ Matplotlib ç”Ÿæˆé›¶æç‚¹å›¾</li>
        <li><strong>æ˜¾ç¤ºç»“æœ</strong> â†’ æ–‡æœ¬æ‘˜è¦è¾“å‡ºåˆ°ç»ˆç«¯åŒºåŸŸ</li>
      </ol>

      <div class="diagram">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ·ç‚¹å‡»æŒ‰é’® â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JS è¯»å–è¾“å…¥å€¼    â”‚  numStr = "[1, -2, 1]"
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ„é€  Python  â”‚
â”‚ code = `coeffs = ${num}` â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é€ç»™ WebAssembly        â”‚
â”‚ pyodide.runPythonAsync()  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Python è§£é‡Šå™¨æ‰§è¡Œ    â”‚
â”‚ - è§£æä»£ç            â”‚
â”‚ - ç¼–è¯‘å­—èŠ‚ç          â”‚
â”‚ - æ‰§è¡Œè®¡ç®—           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›ç»“æœç»™ JS     â”‚
â”‚ PyProxy å¯¹è±¡      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°é¡µé¢æ˜¾ç¤º      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>
    </div>

    <!-- ç¬¬å…«éƒ¨åˆ†ï¼šä¼˜åŠ¿ -->
    <div class="section" id="advantages">
      <h2>âš™ï¸ å…«ã€WebAssembly çš„ä¼˜åŠ¿</h2>

      <h3>ä¼ ç»Ÿæ–¹å¼ vs Pyodide æ–¹å¼</h3>

      <table>
        <tr>
          <th>ç‰¹æ€§</th>
          <th>ä¼ ç»Ÿæ–¹å¼ï¼ˆéœ€è¦æœåŠ¡å™¨ï¼‰</th>
          <th>Pyodide æ–¹å¼ï¼ˆçº¯å‰ç«¯ï¼‰</th>
        </tr>
        <tr>
          <td>æ¶æ„</td>
          <td>æµè§ˆå™¨ â†’ HTTP è¯·æ±‚ â†’ æœåŠ¡å™¨æ‰§è¡Œ Python â†’ è¿”å›ç»“æœ</td>
          <td>æµè§ˆå™¨åŠ è½½ .wasm â†’ æœ¬åœ°æ‰§è¡Œ Python â†’ ç«‹å³æ˜¾ç¤º</td>
        </tr>
        <tr>
          <td>æœåŠ¡å™¨éœ€æ±‚</td>
          <td>âŒ éœ€è¦åç«¯æœåŠ¡å™¨</td>
          <td>âœ… æ— éœ€æœåŠ¡å™¨</td>
        </tr>
        <tr>
          <td>ç½‘ç»œå»¶è¿Ÿ</td>
          <td>âŒ æ¯æ¬¡è¯·æ±‚éƒ½æœ‰å»¶è¿Ÿ</td>
          <td>âœ… æœ¬åœ°æ‰§è¡Œï¼Œæ— å»¶è¿Ÿ</td>
        </tr>
        <tr>
          <td>ç¦»çº¿ä½¿ç”¨</td>
          <td>âŒ å¿…é¡»è”ç½‘</td>
          <td>âœ… ç¼“å­˜åå¯ç¦»çº¿</td>
        </tr>
        <tr>
          <td>è¿è¡Œæˆæœ¬</td>
          <td>âŒ éœ€è¦æœåŠ¡å™¨æˆæœ¬</td>
          <td>âœ… ä»…éœ€é™æ€æ‰˜ç®¡</td>
        </tr>
        <tr>
          <td>æ€§èƒ½</td>
          <td>å–å†³äºæœåŠ¡å™¨</td>
          <td>âœ… æ¥è¿‘åŸç”Ÿé€Ÿåº¦</td>
        </tr>
      </table>

      <h3>æ ¸å¿ƒæŠ€æœ¯æ ˆæ€»ç»“</h3>

      <ul>
        <li><strong>Pyodide</strong>ï¼šå°† CPython ç¼–è¯‘æˆ WebAssembly</li>
        <li><strong>WebAssembly</strong>ï¼šæµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼</li>
        <li><strong>JS æ¨¡æ¿å­—ç¬¦ä¸²</strong>ï¼šåŠ¨æ€æ„é€  Python ä»£ç </li>
        <li><strong>PyProxy</strong>ï¼šJS ä¸ Python å¯¹è±¡çš„æ¡¥æ¥å±‚</li>
        <li><strong>Base64 ç¼–ç </strong>ï¼šå›¾ç‰‡ç­‰äºŒè¿›åˆ¶æ•°æ®çš„ä¼ è¾“</li>
      </ul>

      <div class="success-box">
        <strong>ğŸ‰ æ€»ç»“ï¼š</strong>
        <p style="margin-bottom: 0;">è¿™ä¸ªé¡¹ç›®æœ¬è´¨ä¸Šæ˜¯åœ¨æµè§ˆå™¨é‡Œè¿è¡Œäº†ä¸€ä¸ªå®Œæ•´çš„ Python ç¯å¢ƒï¼Œå°±åƒä½ åœ¨æœ¬åœ°å®‰è£…äº† Python ä¸€æ ·ï¼Œåªä¸è¿‡æ˜¯é€šè¿‡ WebAssembly å®ç°çš„ï¼å®Œå…¨åœ¨å‰ç«¯å®Œæˆç§‘å­¦è®¡ç®—ï¼Œæ— éœ€ä»»ä½•æœåŠ¡å™¨æ”¯æŒã€‚</p>
      </div>
    </div>

    <div style="text-align: center; margin-top: 60px; padding-top: 30px; border-top: 2px solid #dee2e6; color: #7f8c8d;">
      <p>ğŸ“š DSP R(z) åˆ†æå·¥å…·æŠ€æœ¯æ–‡æ¡£</p>
      <p>åŸºäº Pyodide + WebAssembly + SymPy + Matplotlib</p>
    </div>
  </div>
</body>
</html>
